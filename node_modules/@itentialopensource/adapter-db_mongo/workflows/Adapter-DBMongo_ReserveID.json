{"name":"Adapter-DBMongo_ReserveID","tasks":{"1357":{"name":"merge","summary":"Merge Data","description":"Merge data into a single object","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"data_to_merge":[{"key":"_id","value":{"task":"d55a","variable":"return_data"}}]},"outgoing":{"merged_object":null}},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>merge</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Merge</span> Data"},{"key":"description","highlightString":"<span class='highlight-string'>Merge</span> data into a single object"}],"groups":[],"x":-0.06576576576576576,"y":0.20313790255986788},"1965":{"name":"reserveNextID","summary":"Add and reserve the next id in mongo","description":"Add and reserve the next id in mongo","location":"Adapter","locationType":"DBMongo","app":"DBMongo","displayName":"DBMongo","type":"automatic","variables":{"incoming":{"collectionName":"vcid_collection","filter":"$var.d8cd.merged_object","recordInfo":{"circuit_id":12345,"order_id":23222,"customer":"Itential","description":"Testing","ref_ticket":6673},"keyLabel":"vcid","start":5000,"end":"","adapter_id":"Mongo"},"outgoing":{"result":null},"error":""},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>reserve</span>NextID"},{"key":"summary","highlightString":"Add and <span class='highlight-string'>reserve</span> the next id in mongo"},{"key":"description","highlightString":"Add and <span class='highlight-string'>reserve</span> the next id in mongo"}],"groups":[],"actor":"Pronghorn","x":0.0990990990990991,"y":-0.46985962014863747,"scheduled":false},"8170":{"name":"decisionTask","summary":"MOP Decision Task","description":"MOP Decision Task","location":"Application","app":"MOP","displayName":"Command Templates","type":"manual","variables":{"incoming":{"title":"Do you want to reserve record?","body":"Click <b>\"Reserve Record\"</b> : To reserve a record in mongo \n</br>\nClick <b>\"End\"</b> : To end the workflow.","variables":"","btn_success":"Reserve Record","btn_failure":"End"},"outgoing":{},"error":""},"view":"/mop/task/decisionTask","deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>decis</span>ionTask"},{"key":"summary","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"},{"key":"description","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"}],"groups":[{"provenance":"Local AAA","name":"pronghorn_admin","description":"pronghorn_admin"}],"x":0.06621621621621622,"y":0.21635012386457472,"scheduled":false},"workflow_start":{"name":"workflow_start","groups":[],"x":-0.4752252252252252,"y":0.21222130470685385},"workflow_end":{"name":"workflow_end","groups":[],"x":0.37117117117117115,"y":0.24855491329479767},"e9a5":{"name":"create","summary":"Create an item in the collection in the database","description":"Create an item in the collection in the database","location":"Adapter","locationType":"DBMongo","app":"DBMongo","displayName":"DBMongo","type":"automatic","variables":{"incoming":{"collectionName":"vcid_collection","data":{"name":"vcid_collection","records":[]},"adapter_id":"Mongo"},"outgoing":{"result":null},"error":""},"deprecated":false,"matched":[],"groups":[],"actor":"Pronghorn","x":-0.21396396396396397,"y":0.20066061106523533,"scheduled":false},"42b4":{"name":"exists","summary":"Find if items exist in the collection in the database","description":"Find if items exist in the collection in the database","location":"Adapter","locationType":"DBMongo","app":"DBMongo","displayName":"DBMongo","type":"automatic","variables":{"incoming":{"collectionName":"vcid_collection","query":"","adapter_id":"Mongo"},"outgoing":{"result":null},"error":""},"deprecated":false,"matched":[],"groups":[],"actor":"Pronghorn","x":-0.35495495495495494,"y":0.06771263418662263,"scheduled":false},"c832":{"name":"evaluation","summary":"If not found, create new collection","description":"If not found, create new collection","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"all_true_flag":true,"evaluation_groups":[{"all_true_flag":true,"evaluations":[{"query":"response","operand_1":{"variable":"result","task":"42b4"},"operator":"!=","operand_2":{"variable":true,"task":"static"}}]}]},"outgoing":{"return_value":null}},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>eval</span>uation"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Eval</span>uation Task"},{"key":"description","highlightString":"Run an <span class='highlight-string'>eval</span>uation"}],"groups":[],"x":-0.2648648648648649,"y":0.05697770437654831},"d55a":{"name":"query","summary":"Query Data Using 'json-query' Format","description":"Query data using a dot/bracket notation string and a matching key/value pair.","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"pass_on_null":false,"query":"response._id","obj":"$var.e9a5.result"},"outgoing":{"return_data":null},"error":""},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":-0.12882882882882882,"y":0.20726672171758878,"scheduled":false},"f727":{"name":"find","summary":"Find items from the collection in the database","description":"Find items from the collection in the database","location":"Adapter","locationType":"DBMongo","app":"DBMongo","displayName":"DBMongo","type":"automatic","variables":{"incoming":{"options":{"entity":"vcid_collection"},"adapter_id":"Mongo"},"outgoing":{"result":null},"error":""},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>find</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Find</span> items from the collection in the database"},{"key":"description","highlightString":"<span class='highlight-string'>Find</span> items from the collection in the database"}],"groups":[],"actor":"Pronghorn","x":-0.2689189189189189,"y":-0.08918249380677126,"scheduled":false},"aaaa":{"name":"query","summary":"Query \"_id\" from the mongo document","description":"Query \"_id\" from the mongo document","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"pass_on_null":false,"query":"response[0]._id","obj":"$var.f727.result"},"outgoing":{"return_data":"$var.job.queryvalue"},"error":""},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":-0.26846846846846845,"y":-0.18084227910817507,"scheduled":false},"93b7":{"name":"decisionTask","summary":"MOP Decision Task","description":"MOP Decision Task","location":"Application","app":"MOP","displayName":"Command Templates","type":"manual","variables":{"incoming":{"title":"Do you want to reserve record?","body":"Click <b>\"Reserve Record\"</b> : To reserve a record in mongo \n</br>\nClick <b>\"End\"</b> : To end the workflow.","variables":"","btn_success":"Reserve Record","btn_failure":"End"},"outgoing":{},"error":""},"view":"/mop/task/decisionTask","deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>decis</span>ionTask"},{"key":"summary","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"},{"key":"description","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"}],"groups":[{"provenance":"Local AAA","name":"pronghorn_admin","description":"pronghorn_admin"}],"x":-0.04279279279279279,"y":-0.45664739884393063,"scheduled":false},"d8cd":{"name":"merge","summary":"Merge Data","description":"Merge data into a single object","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"data_to_merge":[{"key":"_id","value":{"task":"aaaa","variable":"return_data"}}]},"outgoing":{"merged_object":null}},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>merge</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Merge</span> Data"},{"key":"description","highlightString":"<span class='highlight-string'>Merge</span> data into a single object"}],"groups":[],"x":-0.11081081081081082,"y":-0.4500412881915772},"df87":{"name":"decisionTask","summary":"MOP Decision Task","description":"MOP Decision Task","location":"Application","app":"MOP","displayName":"Command Templates","type":"manual","variables":{"incoming":{"title":"Error Reserving Record","body":"The record is full.\nModify the db record to continue.\n</br>\nClick <b>\"Revert\"</b> : Revert to Reserve Record Task.\n</br>\nClick <b>\"End\"</b> : To end the workflow.","variables":"","btn_success":"Revert","btn_failure":"End"},"outgoing":{},"error":""},"view":"/mop/task/decisionTask","deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>decis</span>ionTask"},{"key":"summary","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"},{"key":"description","highlightString":"MOP <span class='highlight-string'>Decis</span>ion Task"}],"groups":[{"provenance":"Local AAA","name":"pronghorn_admin","description":"pronghorn_admin"}],"x":0.2075268817204301,"y":-0.25760649087221094,"scheduled":false},"3d34":{"name":"reserveNextID","summary":"Add and reserve the next id in mongo","description":"Add and reserve the next id in mongo","location":"Adapter","locationType":"DBMongo","app":"DBMongo","displayName":"DBMongo","type":"automatic","variables":{"incoming":{"collectionName":"vcid_collection","filter":"$var.1357.merged_object","recordInfo":{"circuit_id":12345,"order_id":23222,"customer":"Itential","description":"Testing","ref_ticket":6673},"keyLabel":"vcid","start":5000,"end":"","adapter_id":"Mongo"},"outgoing":{"result":null},"error":""},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>reserve</span>NextID"},{"key":"summary","highlightString":"Add and <span class='highlight-string'>reserve</span> the next id in mongo"},{"key":"description","highlightString":"Add and <span class='highlight-string'>reserve</span> the next id in mongo"}],"groups":[],"actor":"Pronghorn","x":0.05765765765765766,"y":0.04706853839801817,"scheduled":false},"93fb":{"name":"evaluation","summary":"Run Evaluation Task","description":"Run an evaluation","location":"Application","locationType":null,"app":"WorkFlowEngine","displayName":"WorkFlowEngine","type":"operation","variables":{"incoming":{"all_true_flag":true,"evaluation_groups":[{"all_true_flag":true,"evaluations":[{"query":"total","operand_1":{"variable":"result","task":"f727"},"operator":">","operand_2":{"variable":0,"task":"static"}}]}]},"outgoing":{"return_value":null}},"deprecated":false,"matched":[{"key":"name","highlightString":"<span class='highlight-string'>eval</span>uation"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Eval</span>uation Task"},{"key":"description","highlightString":"Run an <span class='highlight-string'>eval</span>uation"}],"groups":[],"x":-0.14774774774774774,"y":-0.4475639966969447}},"transitions":{"1357":{"8170":{"type":"standard","state":"success"}},"1965":{"93b7":{"type":"revert","state":"success"},"df87":{"type":"standard","state":"failure"}},"2814":{},"8170":{"workflow_end":{"type":"standard","state":"failure"},"3d34":{"type":"standard","state":"success"}},"workflow_start":{"42b4":{"type":"standard","state":"success"}},"workflow_end":{},"e9a5":{"d55a":{"type":"standard","state":"success"}},"97b8":{},"42b4":{"c832":{"type":"standard","state":"success"}},"a4e3":{},"c832":{"e9a5":{"type":"standard","state":"success"},"f727":{"type":"standard","state":"failure"}},"b93c":{},"d55a":{"1357":{"type":"standard","state":"success"}},"f727":{"aaaa":{"type":"standard","state":"success"}},"aaaa":{"93fb":{"type":"standard","state":"success"}},"93b7":{"1965":{"type":"standard","state":"success"},"workflow_end":{"type":"standard","state":"failure"}},"d8cd":{"93b7":{"type":"standard","state":"success"}},"df87":{"1965":{"type":"revert","state":"success"},"workflow_end":{"type":"standard","state":"success"}},"3d34":{"8170":{"type":"revert","state":"success"}},"7f":{},"93fb":{"d8cd":{"type":"standard","state":"success"},"workflow_end":{"type":"standard","state":"failure"}}},"font_size":12,"created":"2019-09-16T18:06:05.719Z","created_by":{"provenance":"Local AAA","username":"admin@pronghorn","firstname":"admin","inactive":false,"email":""},"groups":[],"last_updated":"2019-09-16T19:38:58.070Z","last_updated_by":{"provenance":"Local AAA","username":"admin@pronghorn","firstname":"admin","inactive":false,"email":""},"type":"automation","description":null}